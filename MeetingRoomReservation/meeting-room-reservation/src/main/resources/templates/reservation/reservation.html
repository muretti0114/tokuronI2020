<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>予約状況</title>
    <link rel="stylesheet" type="text/css" th:href="@{/css/style.css}">
</head>

<body>
    <div th:object=${user} style="text-align:right;">
        ユーザ： [[*{callName}]] ([[*{username}]]) <br />
        <form th:action="@{/logout}" method="post">
            <input type="submit" value="ログアウト">
        </form>
    </div>
    <h1>[[${#dates.format(date, 'yyyy-MM-dd')}]]の予約状況</h1>

    <p>
        <a class="button" th:href=@{/reservations}>カレンダーへ</a>
        <a class="button" th:href=@{/reservations/{d}/create(d=${dStr})}>新規予約作成</a>
    </p>

    <th:block th:each="room: ${roomList}">
        <h2>[[${room.roomNumber}]]</h2>
        <table class="list user">
            <tr>
                <th>予約番号</th>
                <th>予約者</th>
                <th>開始時刻</th>
                <th>終了時刻</th>
                <th>用途</th>
            </tr>
            <tr th:each="rsv: ${rsvList}" th:if="${rsv.rid == room.rid}">
                <td>[[${rsv.number}]]</td>
                <td>[[${rsv.userName}]]</td>
                <td>[[${#dates.format(rsv.startTime, 'HH:mm')}]]</td>
                <td>[[${#dates.format(rsv.endTime, 'HH:mm')}]]</td>
                <td>[[${rsv.purpose}]]</td>
            </tr>
        </table>
    </th:block>

    <p>
        <a class="button" th:href=@{/reservations}>カレンダーへ</a>
    </p>


</body>

</html>